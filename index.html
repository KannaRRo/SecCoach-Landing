<!doctype html>
<html lang="pl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>SecCoach ‚Äî Symulacja szkoleniowa</title>
<meta name="description" content="Bezpieczna strona edukacyjna ‚Äî nic z≈Çego siƒô nie dzieje. Dane lokalne.">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
:root{
  --bg:#0b1326; --panel:#0f1a34; --card:#0e1630;
  --text:#e7f0fa; --muted:#a9b8c9;
  --accent:#18c4b8; --accent-2:#3ee6b9; --danger:#ef4444; --warn:#f59e0b;
  --shadow:0 10px 30px rgba(2,6,23,.45);
  --banner-h:40px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family:Inter,system-ui,Segoe UI,Roboto,Arial;
  background:linear-gradient(180deg,#081326,#0a1530); color:var(--text);
}

/* Banner */
.sim-banner{
  position:fixed; top:0; left:0; right:0; z-index:1200;
  display:flex; align-items:center; justify-content:center; gap:8px;
  padding:8px 12px;
  background:linear-gradient(90deg,rgba(24,196,184,.15),rgba(62,230,185,.15));
  border-bottom:1px solid rgba(255,255,255,.12);
  font-size:14px; color:#dff6f3;
  backdrop-filter:saturate(140%) blur(6px);
}
.sim-badge{padding:4px 8px;border-radius:999px;border:1px solid rgba(24,196,184,.5);background:rgba(24,196,184,.12);}

/* Header */
.site-header{
  position:sticky; top:var(--banner-h); z-index:1000;
  background:rgba(10,20,40,.85);
  border-bottom:1px solid rgba(255,255,255,.06);
  backdrop-filter:saturate(140%) blur(8px);
}
.wrap{max-width:1100px;margin:0 auto;padding:14px 18px;display:flex;align-items:center;gap:14px}
.brand{display:flex;align-items:center;gap:10px}
.logo{width:38px;height:38px;border-radius:9px;background:#0a1a33;display:grid;place-items:center}
.logo svg{width:22px;height:22px}
nav{margin-left:auto;display:flex;gap:10px}
nav a{color:#dfeafb;text-decoration:none;font-size:14px;padding:8px 10px;border-radius:8px;border:1px solid rgba(255,255,255,.06)}
nav a:hover{background:rgba(255,255,255,.05)}

/* Main */
main{max-width:1100px;margin:0 auto;padding:calc(18px + var(--banner-h)) 18px 18px}
.hero{display:grid;gap:16px;grid-template-columns:1.1fr .9fr;
  background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.06);
  border-radius:16px;padding:22px;box-shadow:var(--shadow);}
.hero h1{margin:0 0 8px;font-size:24px}
.hero p{margin:0;color:var(--muted)}
@media(max-width:860px){.hero{grid-template-columns:1fr}}

/* Clock */
.clock{display:grid;place-items:center;min-height:160px;background:#0a1c3c;border-radius:16px;border:1px solid rgba(255,255,255,.06);}
.clock time{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;font-size:52px;background:linear-gradient(90deg,var(--accent),var(--accent-2));-webkit-background-clip:text;color:transparent;}
.clock small{color:var(--muted);margin-top:6px}

/* Footer */
footer{max-width:1100px;margin:16px auto 24px;padding:12px 18px;
  display:flex;gap:12px;justify-content:space-between;align-items:center;flex-wrap:wrap;
  background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.06);border-radius:14px;}
.counter{display:flex;align-items:center;gap:8px}
.dot{width:10px;height:10px;border-radius:50%;background:var(--accent)}
.pill{padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.08);color:var(--muted)}
.btn{border:1px solid rgba(255,255,255,.12);background:transparent;color:var(--text);padding:10px 14px;border-radius:10px;cursor:pointer}
.btn.primary{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#042422;border:none}
.muted{color:var(--muted)}

/* Report */
#report{max-width:1100px;margin:40px auto;padding:24px;background:rgba(255,255,255,.02);
  border:1px solid rgba(255,255,255,.06);border-radius:16px;display:none;}
#report h2{text-align:center;margin-bottom:20px}
.report-grid{display:grid;gap:20px;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));}
.chart-box{background:#0d1c38;border-radius:12px;padding:10px}
.chart-box canvas{display:block;width:100%!important;height:360px!important}
@media(max-width:520px){.chart-box canvas{height:300px!important}}
.stats{text-align:center;margin-top:20px}
.stats p{margin:4px 0}

/* Modale */
.modal-backdrop{position:fixed;inset:0;background:rgba(5,10,20,.65);
  display:none;align-items:center;justify-content:center;z-index:2000;padding:16px;}
.modal-backdrop.show{display:flex}
.modal{background:#0b162c;color:var(--text);border:1px solid rgba(255,255,255,.08);
  border-radius:16px;max-width:720px;width:100%;padding:18px;box-shadow:var(--shadow);}
.modal h2{margin-top:0}
.actions{display:flex;gap:10px;justify-content:flex-end;margin-top:14px}
.progress{height:12px;border-radius:8px;background:rgba(255,255,255,.08);overflow:hidden;margin:10px 0}
.progress .bar{height:100%;width:0%;background:linear-gradient(90deg,var(--accent),var(--accent-2));transition:width .2s linear}
</style>
</head>
<body>

<div class="sim-banner"><span class="sim-badge">üß† Symulacja szkoleniowa</span>
 To bezpieczna strona edukacyjna ‚Äî <b>nic z≈Çego siƒô nie dzieje</b>. Dane zostajƒÖ lokalnie.
</div>

<header class="site-header">
  <div class="wrap">
    <div class="brand"><div class="logo"><svg viewBox="0 0 24 24"><path fill="#18c4b8" d="M12 2l7 20-7-4-7 4z"/></svg></div><b>SecCoach</b></div>
    <nav>
      <a href="#" id="navEasy">O nas</a>
      <a href="#" id="navMedium">Us≈Çugi</a>
      <a href="#" id="navHard">Kontakt</a>
    </nav>
  </div>
</header>

<main>
  <section class="hero">
    <div>
      <h1>To jest <u>symulacja szkoleniowa</u> ‚Äî zachowaj czujno≈õƒá</h1>
      <p>Je≈õli wiadomo≈õƒá budzi wƒÖtpliwo≈õci: <b>nie klikaj</b> link√≥w, nie pobieraj za≈ÇƒÖcznik√≥w, sprawd≈∫ nadawcƒô i zg≈Ço≈õ do IT.</p>
    </div>
    <div class="clock"><time id="clock">--:--:--</time><small id="clockDate"></small></div>
  </section>
</main>

<footer>
  <div class="counter"><span class="dot"></span> Odwiedziny: <b id="visits">0</b> <span class="pill">Symulacja</span></div>
  <div style="display:flex;gap:8px;flex-wrap:wrap">
    <button class="btn primary" id="reportBtn">Raport (symulacja)</button>
    <a class="btn" href="https://kannarro.github.io/Technologie-aplikacji-mobilnych/login.html" target="_blank">Przejd≈∫ do quizu</a>
  </div>
  <div class="muted">
    <b>Autorzy:</b> Kr√≥l Damian (54103) ‚Ä¢ Angelika Adamczewska (55914) ‚Ä¢ Projekt in≈ºynierski WSB Merito Bydgoszcz ¬© 2025
  </div>
</footer>

<section id="report">
  <h2>üìä Analiza zachowa≈Ñ u≈ºytkownik√≥w w symulacji phishingu</h2>
  <div class="report-grid">
    <div class="chart-box"><canvas id="barChart"></canvas></div>
    <div class="chart-box"><canvas id="lineChart"></canvas></div>
    <div class="chart-box"><canvas id="pieChart"></canvas></div>
    <div class="chart-box"><canvas id="decisionChart"></canvas></div>
  </div>
  <div class="stats">
    <p>üîπ Odwiedziny: <b id="statVisits">0</b> | Zdarzenia: <b id="statEvents">0</b> | Ostatnia aktywno≈õƒá: <b id="statLast">‚Äî</b></p>
    <p>‚è±Ô∏è ≈ör. czas decyzji: <b id="avgDecision">‚Äî</b> | Mediana: <b id="medDecision">‚Äî</b> | ‚úÖ Zg≈Çoszenia: <b id="countReport">0</b> | ‚ö†Ô∏è Instalacje: <b id="countInstall">0</b></p>
    <button class="btn" id="exportCsv">Eksport CSV</button>
    <button class="btn" id="resetBtn">Reset</button>
  </div>
</section>

<div class="modal-backdrop" id="modalRoot"></div>

<script>
const KEY_VIS='seccoach_visits', KEY_LOG='seccoach_log';
function logEvent(type,note){const arr=JSON.parse(localStorage.getItem(KEY_LOG)||'[]');arr.push({type,when:new Date().toISOString(),...(note?{note}: {})});localStorage.setItem(KEY_LOG,JSON.stringify(arr));}
function fmtPL(dt){return dt.toLocaleString('pl-PL');}

/* Zegar */
function updateClock(){
  const now=new Date(),pad=n=>String(n).padStart(2,'0');
  document.getElementById('clock').textContent=`${pad(now.getHours())}:${pad(now.getMinutes())}:${pad(now.getSeconds())}`;
  document.getElementById('clockDate').textContent=now.toLocaleDateString('pl-PL',{weekday:'long',year:'numeric',month:'long',day:'numeric'});
}
updateClock();setInterval(updateClock,1000);

/* Licznik odwiedzin */
let v=parseInt(localStorage.getItem(KEY_VIS)||'0',10);if(isNaN(v))v=0;v++;localStorage.setItem(KEY_VIS,String(v));document.getElementById('visits').textContent=v;logEvent('visit');

/* Modal */
const modalRoot=document.getElementById('modalRoot');
function openModal(html,cb){modalRoot.innerHTML=`<div class="modal">${html}</div>`;modalRoot.classList.add('show');cb?.(modalRoot.querySelector('.modal'));modalRoot.onclick=e=>{if(e.target===modalRoot)closeModal();};}
function closeModal(){modalRoot.classList.remove('show');modalRoot.innerHTML='';}

/* Intro i Instalator */
function showIntro(){
  openModal(`<h2>To jest strona szkoleniowa ‚Äî nic z≈Çego siƒô nie dzieje</h2><p class="muted">To ƒáwiczenie z cyberbezpiecze≈Ñstwa. Zawsze weryfikuj nadawcƒô i nie instaluj niczego z nieznanych ≈∫r√≥de≈Ç.</p><div class="actions"><button class="btn primary" id="ok">Rozumiem</button></div>`,m=>m.querySelector('#ok').onclick=()=>{closeModal();if(Date.now()-introStart>=8000)showInstaller();else setTimeout(showInstaller,8000-(Date.now()-introStart));});logEvent('intro_shown');}
let introStart=Date.now();
function showInstaller(){
  openModal(`<span class="pill">Symulacja</span><h2>Aktualizacja systemu ‚Äî wymagane dzia≈Çanie</h2><p class="muted">Komputer wymaga natychmiastowej instalacji pakietu bezpiecze≈Ñstwa. Czy chcesz kontynuowaƒá?</p><div class="progress"><div class="bar" id="bar"></div></div><small id="pct">0%</small><div class="actions"><button class="btn" id="report">Zg≈Ço≈õ incydent do IT</button><button class="btn primary" id="install">Zainstaluj</button></div>`,
  m=>{
    const bar=m.querySelector('#bar'),pct=m.querySelector('#pct');let p=0,start=performance.now();const t=setInterval(()=>{p+=Math.random()*8+2;if(p>=100){p=100;clearInterval(t);}bar.style.width=p+'%';pct.textContent=p.toFixed(0)+'%';if(p%20<3)logEvent('installer_progress',String(Math.round(p)));},200);
    function done(type,msg){clearInterval(t);closeModal();logEvent(type,String(Math.round(performance.now()-start)));openModal(msg,m2=>m2.querySelector('button').onclick=closeModal);}
    m.querySelector('#install').onclick=()=>done('installer_install',`<h2>B≈ÇƒÖd</h2><p class="muted">To nie by≈Ç dobry wyb√≥r. Nie instaluj nieznanych plik√≥w.</p><div class="actions"><button class="btn primary">OK</button></div>`);
    m.querySelector('#report').onclick=()=>done('installer_report',`<h2>≈öwietnie!</h2><p class="muted">Zg≈Çoszenie incydentu do IT to w≈Ça≈õciwa reakcja.</p><div class="actions"><button class="btn primary">OK</button></div>`);
  });logEvent('installer_shown');
}
showIntro();

/* Edukacyjne sekcje */
const tips={
  easy:`<h2>Jak rozpoznaƒá podejrzany mail?</h2><ul class="muted"><li>Sprawd≈∫ adres nadawcy</li><li>Uwa≈ºaj na presjƒô czasu</li><li>Nie klikaj niespodziewanych link√≥w</li></ul>`,
  med:`<h2>Weryfikuj linki</h2><p class="muted">Najed≈∫ na link i sprawd≈∫ pe≈Çny adres (https, subdomeny, liter√≥wki).</p>`,
  hard:`<h2>Co zrobiƒá po klikniƒôciu w z≈Ço≈õliwy link?</h2><ol class="muted"><li>Od≈ÇƒÖcz sieƒá</li><li>Nie restartuj</li><li>Zg≈Ço≈õ incydent do IT</li></ol>`
};
document.getElementById('navEasy').onclick=e=>{e.preventDefault();openModal(tips.easy+`<div class="actions"><button class="btn primary">OK</button></div>`,m=>m.querySelector('button').onclick=closeModal);logEvent('nav_easy');};
document.getElementById('navMedium').onclick=e=>{e.preventDefault();openModal(tips.med+`<div class="actions"><button class="btn primary">OK</button></div>`,m=>m.querySelector('button').onclick=closeModal);logEvent('nav_medium');};
document.getElementById('navHard').onclick=e=>{e.preventDefault();openModal(tips.hard+`<div class="actions"><button class="btn primary">OK</button></div>`,m=>m.querySelector('button').onclick=closeModal);logEvent('nav_hard');};

/* Raport i wykresy */
let charts=[];
function compute(){
  const logs=JSON.parse(localStorage.getItem(KEY_LOG)||'[]'),counts={report:0,install:0,easy:0,medium:0,hard:0},dec=[];
  logs.forEach(r=>{
    if(r.type==='installer_report'){counts.report++;if(r.note)dec.push(+r.note);}
    if(r.type==='installer_install'){counts.install++;if(r.note)dec.push(+r.note);}
    if(r.type==='nav_easy')counts.easy++;
    if(r.type==='nav_medium')counts.medium++;
    if(r.type==='nav_hard')counts.hard++;
  });
  const avg=dec.length?dec.reduce((a,b)=>a+b,0)/dec.length:0,med=dec.length?dec.sort((a,b)=>a-b)[Math.floor(dec.length/2)]:0;
  return{counts,avg,med,last:logs.length?fmtPL(new Date(logs.at(-
